;CX75v12
;Загрузчик эльфов
;ELFloader
;(c) Rst7/CBSIE, BoBa
;(p) Geka
;Version: 1.8++
;PatchID: 6607
;Details: https://patches.kibab.com/patches/details.php5?id=6607
/*
;+Загрузка всех .elf-файлов из каталога 4:\ZBin\Daemons
;
;+Загрузка необходимых .elf файлов при выборе файла с произвольным расширением
; Обрабатывается при помощи ExtD.elf - необходим в каталоге 0:\ZBin\Daemons
; по файлу 0:\ZBin\etc\extension.cfg. Формат файла:
; ...
; расширение_без_точки/номер_большой_иконки/номер_маленькой_иконки:полный_путь_и_имя_elf_файла<CR><LF>
; ...
; Если строка начинается с ; (точка с запятой) - это комментарий
; Файлы с неизвестным расширением обрабатываются как txt, рекомендуется прописать
; строку "txt:0:\ZBin\TED\Ted.elf"
;
;+Перенесены в библиотеку функции SUBPROC и REDRAW - находятся в HELPER
;
;+Удаление процесса HELPER_PROC при закрытии IDLE_CSM
;
;+Вынесены адреса возврата в отдельный сегмент (RET_ADRS) для упрощения портирования
;
;+Ублажены юзеры МП - перенесен GetCPULoad
;
;+ESI теперь поддерживает украинские символы
;
;+Поддержка эльфов SVv4, генерируемых LD (respect DeathSoft)
;
;+Ретрансляция сообщений из HELPER_PROC в MMI
;
;+Функция SEQKILLER для освобождения памяти демонов при закрытии IDLE_CSM
*/
;ElfLoader+ESI+RunElfsByExtention
;PATCH_PROPERTY_WINDOW
0x0035134C: 0370A0E10260A0E10150A0E1 04E08FE204F01FE53881FDA0
;PATCH_NO_BROWSE_TXT
0x005981B0: 211C 16E0
;SWILIB_FUNC171,SWILIB_FUNC172
#pragma enable old_equal_ff
0x00FD45C4: C091FDA09C91FDA0
;SWILIB_FUNC19C
0x00FD4670: E991FDA0
;CODE,DATA_C
0x00FD8100: 11FF2FE1203EA0E10A0053E30B005313
0x00FD8110: 0100001AAA0100FA1080BDE8E43E9FE5
0x00FD8120: 0140A0E10210A0E104209FE5020050E1
0x00FD8130: 13FF2FE1102700000E402DE9F8209DE5
0x00FD8140: A00452E3B601003BE080BDE804E02DE5
0x00FD8150: 00200FE1000000EF00100FE1C01081E3
0x00FD8160: 01F021E10000A0E10000A0E10000A0E1
0x00FD8170: 7AFF17EE0000A0E10000A0E10000A0E1
0x00FD8180: FAFFFF1A0000A0E39A0F07EE0000A0E1
0x00FD8190: 0000A0E10000A0E10000A0E1150F07EE
0x00FD81A0: 0000A0E10000A0E10000A0E10000A0E1
0x00FD81B0: 02F021E104F09DE400402DE91D0100EF
0x00FD81C0: 0080BDE8FFB5FEB00025ED4304956421
0x00FD81D0: 65A8FFF7F2EF7E9800246B4680221102
0x00FD81E0: 0ADF0190002801D528003DE26B463422
0x00FD81F0: 08A90BDF342805D0019869460DDF0120
0x00FD8200: C04331E208986B49884204D001986946
0x00FD8210: 0DDF0220F4E708A8808D0B2802D30820
0x00FD8220: C04321E2039415AD083511E030680128
0x00FD8230: 0AD128680499884200D20490E9684018
0x00FD8240: 844201D22868441803982035401C0390
0x00FD8250: 039808A9898D884227DA07A801B41098
0x00FD8260: 049909AE768D01AB0022714341180298
0x00FD8270: 0FDF1099049A09AB5B8D01B05A438918
0x00FD8280: 884204D0019869460DDF0320B8E70198
0x00FD8290: 2E00083E6B46202231000BDF2028C5D0
0x00FD82A0: 019869460DDF0420BAE70498251A2800
0x00FD82B0: 14DF040004D1019869460DDF0D209FE7
0x00FD82C0: 2900FFF77AEF0020039015A8083052E0
0x00FD82D0: 2868012802D0022817D0AFE102988268
0x00FD82E0: 002A43D0006804996B46401A21180198
0x00FD82F0: 0BDF02998968884238D0019869460DDF
0x00FD8300: 200015DF0A20C043AEE10298806814DF
0x00FD8310: 050006D1019869460DDF200015DF0620
0x00FD8320: 6EE702986B468268019829000BDF0299
0x00FD8330: 8968884208D0019869460DDF280015DF
0x00FD8340: 200015DF07206BE7280065AA05E01929
0x00FD8350: 02DA436889005350083001680029F6D1
0x00FD8360: 77990020002930D1280015DF0398401C
0x00FD8370: 03900298203002900498414206910398
0x00FD8380: 08A9898D884200DB5FE1029D684601B4
0x00FD8390: 083D696801AB029800220FDF696801B0
0x00FD83A0: 884295D0019869460DDF200015DF0520
0x00FD83B0: 26E7C0467F454C46059EEB189B199B18
0x00FD83C0: 1A688B581B198B50401C779AC1009142
0x00FD83D0: CAD2029A06991268611853420593769B
0x00FD83E0: 059EC200AE19B618F61876683606360E
0x00FD83F0: FF2E00D919E102A77600BF5FBF44C046
0x00FD8400: C8FF2A02B8FF2A022A022A022A022A02
0x00FD8410: 2A022A022A022A022A022A022A022A02
0x00FD8420: 2A022A022A022A022A022A022A020002
0x00FD8430: 2A022A022A022A022A022A022A022A02
0x00FD8440: 2A022A022A022A022A022A022A022A02
0x00FD8450: 2A022A022A022A022A022A022A022A02
0x00FD8460: 2A022A022A022A022A022A022A022A02
0x00FD8470: 2A022A022A022A022A022A022A022A02
0x00FD8480: 2A022A022A022A022A022A022A022A02
0x00FD8490: 2A022A022A022A022A022A022A022A02
0x00FD84A0: 2A022A022A022A022A022A022A022A02
0x00FD84B0: 2A022A022A022A022A022A022A022A02
0x00FD84C0: 2A022A022A022A022A022A022A022A02
0x00FD84D0: 2A022A022A022A022A022A022A022A02
0x00FD84E0: 2A022A022A022A022A022A022A022A02
0x00FD84F0: 2A022A022A022A022A022A022A022A02
0x00FD8500: 2A022A022A022A022A022A022A022A02
0x00FD8510: 2A022A022A022A022A022A022A022A02
0x00FD8520: 2A022A022A022A022A022A022A022A02
0x00FD8530: 2A022A022A022A022A022A022A022A02
0x00FD8540: 2A022A022A022A022A022A022A022A02
0x00FD8550: 2A022A022A022A022A022A022A022A02
0x00FD8560: 2A022A022A022A022A022A022A022A02
0x00FD8570: 2A022A022A022A022A022A022A022A02
0x00FD8580: 2A022A022A022A022A022A022A022A02
0x00FD8590: 2A022A022A022A022A022A022A022A02
0x00FD85A0: 2A022A022A022A022A022A022A022A02
0x00FD85B0: 2A022A022A022A022A022A022A022A02
0x00FD85C0: 2A022A022A022A022A022A022A022A02
0x00FD85D0: 2A022A022A022A022A022A022A022A02
0x00FD85E0: 2A022A022A022A022A022A022A022A02
0x00FD85F0: 2A022A022A022A022A0214022A02C8FF
0x00FD8600: 059EEB189B19049E9B181A688B581B19
0x00FD8610: 9B1BD8E60599EB1859188B181968049B
0x00FD8620: 62581219D21A6250CEE6019869460DDF
0x00FD8630: 200015DF280015DF0C2064E601986946
0x00FD8640: 0DDF200015DF0B20DAE5019869460DDF
0x00FD8650: 00F010F9069D0E9E819B809A7F997E98
0x00FD8660: A4196419A04700207FB003B0F0BD0000
0x00FD8670: 10B5A0B0694614007E22A3DF00230022
0x00FD8680: 21006846FFF79EFD002801D0002000E0
0x00FD8690: 012020B010BD000010402DE90040A0E1
0x00FD86A0: 3100A0E3430C80E3540100EF0C009FE5
0x00FD86B0: 001090E50400A0E11040BDE88FFEFFEA
0x00FD86C0: 0090FDA010402DE99EDF4DE25E0F8DE2
0x00FD86D0: 0140A0E11A0000EF70109FE55E0F8DE2
0x00FD86E0: 170000EF0D20A0E15E1F8DE204008DE2
0x00FD86F0: 6B0000EF000050E30F00000A0410A0E1
0x00FD8700: 5E0F8DE21A0000EFAD108DE25E0F8DE2
0x00FD8710: 170000EF0030A0E30020A0E30210A0E1
0x00FD8720: 5E0F8DE2A6FEFFFA0D10A0E104008DE2
0x00FD8730: 6C0000EF000050E3EFFFFF1A0D10A0E1
0x00FD8740: 04008DE26D0000EF9EDF8DE21080BDE8
0x00FD8750: 7C88FDA030402DE930509FE50040A0E1
0x00FD8760: 800200EB140085E28C0000EF20009FE5
0x00FD8770: 0520A0E10010A0E3710100EF14009FE5
0x00FD8780: 001090E50400A0E13040BDE85BFEFFEA
0x00FD8790: 8488FDA0C486FDA00490FDA000B58028
0x00FD87A0: 0BDB0649081880380078802805DB044A
0x00FD87B0: FF21C94340001018405A00BDC888FDA0
0x00FD87C0: 4889FDA030B50400000F0D000A2809D1
0x00FD87D0: 04E0FFF7E3FF010028001CDF2078641C
0x00FD87E0: 0028F6D130BD000030402DE90040A0E1
0x00FD87F0: 0F00A0E3250100EF0050A0E1071F8FE2
0x00FD8800: 240100EF0020A0E30510A0E10400A0E1
0x00FD8810: 940000EF0500A0E1290100EF3080BDE8
0x00FD8820: 7478740070402DE90040A0E10150A0E1
0x00FD8830: FF00A0E3250100EF0060A0E10410A0E1
0x00FD8840: 1F0100EF5C10A0E30600A0E11C0000EF
0x00FD8850: 0510A0E10600A0E1210100EF0600A0E1
0x00FD8860: E0FFFFEB0600A0E1290100EF0000A0E3
0x00FD8870: 7080BDE8004B18474C81FDA02A2E656C
0x00FD8880: 66000000303A5C5A42696E5C4461656D
0x00FD8890: 6F6E735C00000000B488FDA055000000
0x00FD88A0: FF077805B888FDA0C088FDA07186FDA0
0x00FD88B0: 00000000656C6600F901000000000000
0x00FD88C0: FA010000000000005F5F275F223AC5D8
0x00FD88D0: 5F255F3C5F5F5F5F5F27272222072D2D
0x00FD88E0: 5F545F3E5F5F5F5FFFF6F75FFD83B315
0x00FD88F0: F063F23CBF2D52F4F82B4969A3E714FA
0x00FD8900: F1FCF33E5F5F5FF58081828384858687
0x00FD8910: 88898A8B8C8D8E8F9091929394959697
0x00FD8920: 98999A9B9C9D9E9FA0A1A2A3A4A5A6A7
0x00FD8930: A8A9AAABACADAEAFE0E1E2E3E4E5E6E7
0x00FD8940: E8E9EAEBECEDEEEF1004110412041304
0x00FD8950: 1404150416041704180419041A041B04
0x00FD8960: 1C041D041E041F042004210422042304
0x00FD8970: 2404250426042704280429042A042B04
0x00FD8980: 2C042D042E042F043004310432043304
0x00FD8990: 3404350436043704380439043A043B04
0x00FD89A0: 3C043D043E043F042D002D002D00A600
0x00FD89B0: 2B00A600A600AC00AC00A600A600AC00
0x00FD89C0: 2D002D002D00AC004C002B0054002B00
0x00FD89D0: 2D002B00A600A6004C003304A6005400
0x00FD89E0: A6003D002B00A600A600540054004C00
0x00FD89F0: 4C002D0033042B002B002D002D002D00
0x00FD8A00: 2D00A600A6002D004004410442044304
0x00FD8A10: 4404450446044704480449044A044B04
0x00FD8A20: 4C044D044E044F040104510404045404
0x00FD8A30: 070457040E045E04B0002220B7007600
0x00FD8A40: 1621A400A600A000
;RET_ADRS
0x00FD9000: 0xA02A78F3,0xA02A76B1,0xA0A81EA9
;HELPER_PROC,HELPER_PROC_DATA
0x00FD9100: 00402DE910D04DE20D00A0E1530100EF
0x00FD9110: 000050E31100000AF230DDE104009DE5
0x00FD9120: 010053E30600001A08209DE5000052E3
0x00FD9130: 0A00000A0C109DE532FF2FE110D08DE2
0x00FD9140: 0080BDE801002DE9F420DDE1FC1FA0E3
0x00FD9150: 0900A0E3420C80E3000100EF04D08DE2
0x00FD9160: 10D08DE20080BDE800402DE920209FE5
0x00FD9170: 20109FE50000A0E301002DE98030A0E3
0x00FD9180: 3100A0E3430C80E3050100EF04D08DE2
0x00FD9190: 0080BDE80091FDA0F491FDA000402DE9
0x00FD91A0: 460100EF410100EF9010A0E30900A0E3
0x00FD91B0: 420C80E3000100EF470100EF0080BDE8
0x00FD91C0: 00402DE904002DE90030A0E13100A0E3
0x00FD91D0: 430C80E30120A0E10110A0E3000100EF
0x00FD91E0: 04D08DE20080BDE810B5140088472000
0x00FD91F0: 15DF10BD48454C5045520000
;PATCH_ESI
#pragma disable old_equal_ff
0x00A81EA0: 0C1C111C0E4A9042 004B18470481FDA0 
;PATCH_ONCREATE,PATCH_ONCLOSE
0x004A3314: B1762AA0F3782AA0 5487FDA09886FDA0


;FREAD32,FWRITE32
#pragma enable old_equal_ff
;FREAD
0x00FD9400: FBB51500002403E00199AD1B08180190
0x00FD9410: 002D0FD00948854201DB461E00E02E00
0x00FD9420: 0098074F029B01993F683200B8472418
0x00FD9430: B042E9D0200003B0F0BDC04601400000
0x00FD9440: F094FDA0
;FWRITE
0x00FD9450: FBB51500002403E00199AD1B08180190
0x00FD9460: 002D0FD00948854201DB461E00E02E00
0x00FD9470: 0098074F029B01993F683200B8472418
0x00FD9480: B042E9D0200003B0F0BDC04601400000
0x00FD9490: F494FDA0
;RET_ADRS
0x00FD94F0: 0xA07CA21C,0xA07CA304
#pragma disable old_equal_ff

;------------------------- end -------------------------

