;CX75v25
;Поддержка MMC/SD/SDHC 4GB карт
;MMC/SD/SDHC 4GB card support
;(c) DebriZ
;Version: 3
;PatchID: 9438
;Details: https://patches.kibab.com/patches/details.php5?id=9438
/*
Добавлена поддержка всех мультимедийных карт MMC, SD и SDHC любого объема
*/

; Change file/disk size output format ("    0.00").
002E10A8: 0720A0E3 0820A0E3
002E112C: 2020302E30300000 20202020302E3030

; Recalc card size using largest block size
00A8CD00: 0C209DE5000052E3 2230DDE5A220A0E1
00A8CD08: 30209D1500005213 013083E22230CDE5
00A8CD10: 0000001A5C1080E5 F6FFFFEA5C1080E5
00A8CD18: 2220DDE5BC31DDE1 4720D0E5010052E3
00A8CD20: 022082E21122A0E1 0100001AAC0100EB
00A8CD28: 013083E2930202E0 000000EAAF0100EB

; Read/write support for SDHC
00A8D8D4: 8004A0E1 B6FEFFEB 
00A8DCDC: 8004A0E1 B4FDFFEB
00AC236C: 8614A0E1 142CFFEB
00AC2608: 8614A0E1 6D2BFFEB

; MMC/SD/SDHC initialization routine
00A8CF10: 000053032E01001ABC129FE50AB0A0E3 00005303FC00001ABC129FE50BB0A0E3
00A8CF20: 0220A0E3B4429FE50B0053E303F18F90 0220A0E3B4429FE50C0053E303F18F90
00A8CF30: 210100EA0A0000EA0D0000EA0F0000EA EF0000EA0B0000EA0E0000EA100000EA
00A8CF40: 100000EA160000EA1B0000EA340000EA 160000EA1F0000EA2A0000EA3A0000EA
00A8CF50: 3F0000EA630000EA770000EABD0000EA 540000EA5F0000EA790000EAB90000EA
00A8CF60: F00000EA4420C5E54570C5E5AAD600EB CA0000EAEE0000EA4420C5E54570C5E5
00A8CF70: DB0000EA4520C5E501D600EBE00000EA A9D600EBD80000EA4520C5E500D600EB
00A8CF80: 0300A0E3000000EA0400A0E34500C5E5 020100EA0300A0E34500C5E504608DE5
00A8CF90: 04608DE50000A0E30120A0E304108DE2 0120A0E304108DE20000A0E3CD0000EA
00A8CFA0: CE0000EA0500A0E34500C5E5BE73C5E1 0400A0E34500C5E5AA10A0E3011C81E2
00A8CFB0: 04008DE2CFFEFFEB0A0000EA6000D5E5 04008DE2CFFEFFEB0120A0E304108DE2
00A8CFC0: 3F0050E3C800001A6100D5E5800010E3 0800A0E3C30000EABE73C5E1B674C5E1
00A8CFD0: 0800001A04008DE2C6FEFFEBBE03D5E1 6000D5E5080050E34770C5050500A0E3
00A8CFE0: 010080E2BE03C5E10120A0E304108DE2 4500C5E504608DE50120A0E304108DE2
00A8CFF0: 0100A0E3B90000EA0420A0E3611085E2 3700A0E3B70000EA6000D5E5370050E3
00A8D000: 400085E2969E11EB0600A0E34500C5E5 B664C5110600A0E34500C5E54700D5E5
00A8D010: 04608DE50200A0E30020A0E304108DE2 010050E30111810304008DE2B5FEFFEB
00A8D020: AE0000EA140085E20E0194E80E0180E8 0120A0E304108DE24600D5E5010050E3
00A8D030: 0700A0E34500C5E504008DE2401BA0E3 2900A0030100A013A60000EA6000D5E5
00A8D040: ACFEFFEB0120A0E304108DE20300A0E3 3F0050E3CB00001A6100D5E5800010E3
00A8D050: A20000EA000050E3A300001A0400A0E1 0600001ABE03D5E1010080E2BE03C5E1
00A8D060: 9FFEFFEB020050E31500000A0400A0E1 4600D5E5010050E3DBFFFF0AE6FFFFEA
00A8D070: 9BFEFFEB0020A0E10A00A0E1581F8FE2 400010E34770C5154760C5050420A0E3
00A8D080: 049A11FA2010A0E30A00A0E1B1FFF4EB 611085E2400085E2759E11EB0700A0E3
00A8D090: 030000EF0020A0E30810A0E11000A0E3 4500C5E504608DE50020A0E304108DE2
00A8D0A0: 9F00F5EB386085E54560C5E54470C5E5 0200A0E38B0000EA140085E20E0194E8
00A8D0B0: 006085E5BC63C5E1100095E530FF2FE1 0E0180E80800A0E34500C5E5010CA0E3
00A8D0C0: 8F0000EA0800A0E34500C5E504008DE2 B205C5E104008DE50120A0E304108DE2
00A8D0D0: 401BA0E387FEFFEB0020A0E304108DE2 0300A0E37F0000EA000050E3A500001A
00A8D0E0: 0900A0E37D0000EA000050E37E00001A 0400A0E17EFEFFEB020050E30500000A
00A8D0F0: 240085E20E0194E80E0180E8F3FEFFEB 0400A0E17AFEFFEB0020A0E10A00A0E1
00A8D100: 0900A0E34500C5E55C0095E5000050E3 DC108FE2910000EA4600D5E5010050E3
00A8D110: 7500001AB005D5E19B0000E059D600EB 0300001A2228A0E15320C5E52224A0E1
00A8D120: 401BA0E304008DE272FEFFEB0120A0E3 5220C5E50900A0E34500C5E5B215D5E1
00A8D130: 04108DE20D00A0E3680000EA000050E3 04108DE50020A0E304108DE20900A0E3
00A8D140: 6900001A0400A0E165FEFFEB030050E3 640000EA000050E38A00001A240085E2
00A8D150: 3400000A0400A0E161FEFFEB0020A0E1 0E0194E80E0180E8DCFEFFEB0A00A0E3
00A8D160: 0A00A0E19C108FE2CA9911FA2010A0E3 4500C5E55C0095E5000050E38100001A
00A8D170: 0A00A0E177FFF4EB030000EF0020A0E3 B005D5E19B0000E042D600EBB215D5E1
00A8D180: 0810A0E11000A0E36500F5EB386085E5 04108DE50120A0E304108DE20D00A0E3
00A8D190: 4560C5E54470C5E5006085E5BC63C5E1 500000EAFFFFFFFFFFFFFFFFFFFFFFFF
00A8D1A0: 100095E530FF2FE1550000EA1C7651A8 FFFFFFFFFFFFFFFFFFFFFFFF1C7651A8
00A8D1B0: 5467CFA08C7651A84D4D4320496E6974 5467CFA08C7651A84D4D4320496E6974
00A8D1C0: 20434D44312074727920636F756E7465 20434D44312074727920636F756E7465
00A8D1D0: 72206F7665722072756E00000080FF00 72206F7665722072756E00000080FF00
00A8D1E0: 7C7651A84D4D432053746174653A2569 7C7651A84D4D432053746174653A2569
00A8D1F0: 202065787065637420455F4964656E74 2065787065637420455F4964656E7453
00A8D200: 53746174650000004D4D432053746174 74617465000000004D4D432053746174
00A8D210: 653A25692065787065637420455F5374 653A25692065787065637420455F5374
00A8D220: 62795374617465000400A0E12CFEFFEB 62795374617465004D4D432053746174
00A8D230: 030050E30700001A45B0C5E5401BA0E3 653A25692065787065637420455F5472
00A8D240: 04008DE22BFEFFEB0120A0E304108DE2 616E537461746500000050E34900001A
00A8D250: 0700A0E3210000EA0400A0E120FEFFEB 0400A0E122FEFFEB030050E30000000A
00A8D260: 030050E31500000A0400A0E11CFEFFEB 0E0000EA0400A0E11DFEFFEB030050E3
00A8D270: 0020A0E10A00A0E178104FE2859911FA 0600001A45B0C5E5B215D5E104108DE5
00A8D280: 2010A0E30A00A0E132FFF4EB030000EF 0120A0E304108DE20700A0E3110000EA
00A8D290: 0020A0E30810A0E11000A0E32000F5EB 0400A0E112FEFFEB030050E30500000A
00A8D2A0: 386085E54560C5E54470C5E5006085E5 0400A0E10EFEFFEB0020A0E10A00A0E1
00A8D2B0: BC63C5E1100095E530FF2FE1100000EA B0104FE2250000EA0C00A0E34500C5E5
00A8D2C0: 0B00A0E34500C5E504008DE2801FA0E3 04008DE2021CA0E30AFEFFEB0120A0E3
00A8D2D0: 08FEFFEB0120A0E304108DE21000A0E3 04108DE21000A0E32BD600EB000050E3
00A8D2E0: 29D600EB000050E30500001A4560C5E5 2A00001A230000EA587085E5BE63C5E1
00A8D2F0: 4470C5E5006085E5BC63C5E1100095E5 200000EA030000EF0020A0E30810A0E1
00A8D300: 30FF2FE15C0095E5000050E34560C515 0B00A0E30600F5EB1A0000EA020000EF
00A8D310: 4470C51500608515BC63C51110009515 0020A0E30810A0E10500A0E398FFF4EB
00A8D320: 30FF2F11EFFEFFEA000050E3EEFFFF1A F0FEFFEA000050E31200001A0400A0E1
00A8D330: 0400A0E1EAFDFFEB040050E31500000A EBFDFFEB040050E3EAFFFF0A0400A0E1
00A8D340: 0400A0E1E6FDFFEB0020A0E10A00A0E1 E7FDFFEB0020A0E10A00A0E14B1F4FE2
00A8D350: 94108FE24F9911FA2010A0E30A00A0E1 509911FA2010A0E30A00A0E1FDFEF4EB
00A8D360: FCFEF4EB030000EF0020A0E30810A0E1 030000EF0020A0E30810A0E11000A0E3
00A8D370: 1000A0E3EAFFF4EB386085E54560C5E5 EBFFF4EB386085E54560C5E54470C5E5
00A8D380: 4470C5E5006085E5BC63C5E1100095E5 006085E5BC63C5E1100095E530FF2FE1
00A8D390: 30FF2FE1DAFFFFEA4560C5E54470C5E5 5C0095E5000050E34560C5154470C515
00A8D3A0: 006085E5BC63C5E1587085E5BE63C5E1 00608515BC63C5111000951530FF2F11
00A8D3B0: 100095E530FF2FE1D1FFFFEA030000EF CCFEFFEA4730D5E5000053E38004A001
00A8D3C0: 0020A0E30810A0E10B00A0E3D4FFF4EB 1EFF2FE120021FE54700D0E5000050E3
00A8D3D0: C5FFFFEA020000EF0020A0E30810A0E1 8614A0010610A0111EFF2FE12C30D0E5
00A8D3E0: 0500A0E366FFF4EBBEFEFFEA4D4D4320 2D20D0E5033482E0012BA0E3030000EA
00A8D3F0: 53746174653A25692065787065637420 2220DDE5BC31DDE1022082E21122A0E1
00A8D400: 455F5472616E537461746500 013083E2930202E01EFF2FE1        
                                           
; MMC/SD/SDHC block read/write routine
00A8D680: 401BA0E31BFDFFEB B215D5E1001080E5
00A8D798: 401BA0E304008DE2D4FCFFEB 04008DE2B215D5E1001080E5
00A8D9C8: 401BA0E304008DE248FCFFEB 04008DE2B215D6E1001080E5
00A8D9F0: 04008DE2401BA0E33EFCFFEB 04008DE2B215D6E1001080E5
00A8DB48: 401BA0E304008DE2E8FBFFEB 04008DE2B215D6E1001080E5
00A8DB74: 401BA0E304008DE2DDFBFFEB 04008DE2B215D6E1001080E5
00AC2308: 401BA0E314008DE20240A0E1F729FFEB 0240A0E1E80F9FE5B215D0E114108DE5
00AC2348: 401BA0E314008DE2E829FFEB AC0F9FE5B215D0E114108DE5
00AC23C0: 401BA0E314008DE2CA29FFEB 340F9FE5B215D0E114108DE5
00AC25A4: 401BA0E314008DE20240A0E15029FFEB 0240A0E14C0D9FE5B215D0E114108DE5
00AC25E4: 401BA0E314008DE24129FFEB 100D9FE5B215D0E114108DE5
00AC265C: 401BA0E314008DE22329FFEB 980C9FE5B215D0E114108DE5
00AC32EC: 436D64202578205374617475733A2578 436D642025782053746174653A257800
00AC32FC: 00000000 1C7651A8

;------------------------- end -------------------------

