;S75v47
;Продвинутые напоминания
;Extended Appointments
;(c) Lost
;Version: 1.1
;PatchID: 7903
;Details: https://patches.kibab.com/patches/details.php5?id=7903
/*
описалово внутри
*/

/*
Телефон выполняет назначенные действия при срабатывании напоминаний.
Обрабатываются напоминания "без звука", поле "место" которых начинается с точки.
Поле "описание" может быть любым.
В поле "место" после точки можно указать любую последовательность команд:
  a## Проиграть мелодию ##
  p#  Установить профиль
  s#  Сменить SIM
  t   Проговорить текущее время
  v#  Вибрить # раз
  x$  Выполнить файл
  z   Выключить телефон
# = 16-ричная цифра
$ = строка

Регистр символов не имеет значения
Поддерживаются номера профилей от 1 до 8
Для проговаривания времени д.б. установлен патч "Говорящий телефон" и функция 0xBF в библиотеке
В команде 'x' именем файла считается вся оставшаяся строка после символа команды 'x'
  т.к. в поле "место" допустимо максимум 20 символов (а в "описании" - 50),
  можно в "место" написать x*, а в "описании" - путь\имя файла

Если однотипных команд несколько, то выполняется последняя из правильно написанных
Приоритет выполнения следующий: p a v t s x z

08:__arm long SetIllumination
09:__arm void SwitchPhoneOff
1B:__thumb unsigned int strlen
32:__arm void PlaySound
34:PlaySoundLoop
6E:__thumb int IsCalling
94:__arm int ExecuteFile 
A3:__arm void ws_2str
B7:__thumb char SetProfile
BF:SpellTime
C4:GetBuffer
100:__arm void GBS_SendMessage
125:__thumb WSHDR * AllocWS
129:__thumb void  FreeWS 
16C:__arm int str_2ws
*/

;PATCH_ENTRY
0x00582F98: 10D00198 00498847
0x00582F9C: 80698000 015806A0

;------------------------- end -------------------------

