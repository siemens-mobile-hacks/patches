;SL45iv56
;MPP. Mp3 плейлист + дополнения
;MPP. Mp3 Playlist Patch single ver + addons
;(c) mamaich, Charger, Seklth
;Version: 1.0
;PatchID: 2145
;Details: https://patches.kibab.com/patches/details.php5?id=2145
/*
v0.1 (mamaich) 
- Убрано ограничение в 31 трек 
- Увеличен максимальный размер плейлиста - 8190 байт 
- Увеличен максимальный размер имени файла - 126 символов (включая "a:\mp3\") 
v0.2 (Charger) 
- Перелистывание на предыдущий трек (и в случайном режиме тоже) 
- Исправленный алгоритм случайного порядка 
v0.3 
- Испoльзует другую область памяти, не конфликтует с бинарниками 
v0.4 
- Перелистывание последний трек с первого 
v1.0 
- Работает при отключенном режиме повтора (закрывает диалог после последнего трека)


English: v0.1 (mamaich)
- Increase number of songs in playlist above 31
- Increase max playlist file size - 8190 bytes
- Increase max size of the filename - 126 chars (include "a:\mp3\")
v0.2 (Charger)
- Go to previous track (and in "Shuffle" mode too)
- Corrected algorithm of the shuffle order
v0.3
- Use other ram area, not conflict with binaries 
v0.4
- Go to last track from first
v1.0
- Work when repeat not selected (mp3 dialog close after last track)
*/

; reduce playlist size to 1 song on allocate 
3BB82E: 26FC1E00 28C1CC00 
; reduce playlist size to 1 song on free 
3BB27C: 8DDC CC00 
; increase playlist file size to 8190 bytes 
3BBA30: E6FF0807 E6FFFE1F 
; increase filename length to 126 chars 
3BB75A: 20C608C1 E6FC7F00 
; Disable standart repeat 
3BB338: EA30D0B3 FADBD0B3 
; Hook "Analyze&play mp3 file" function 
3BB916: DADBAEB5 DAEFD80B 
3BBC68: DADBAEB5 DAEFD80B 
3BBDCE: DADBAEB5 DAEFD80B 
3BC394: DADBAEB5 DAEFD80B 
; hook playlist memory alloc 
3BCAB6: DAD85AF5 DAEF000A 
3BCB8A: DAD85AF5 DAEF000A 
; hook mem free 
38F5A2: FAC178BE FAEF1A0A 
;DialogMP3GUI_onCreate 
3BC76C: 88908880 DAEF260A 
;DialogMP3GUI_onClose 
3BCBDA: 88908880 DAEF380A 
;KeyPressMP3 Up Key 
3BA14E: E6FCE835 DAEF120B 
;KeyPressMP3 Down Key 
3BA136: E6FCE835 DAEF2E0B 

#pragma enable old_equal_ff 
4F0A00: D7503600F2F4F83FF2F5FA3FF0C4F0D5E00EE6FF0020FAC7168446FF2B003D01 
4F0A20: DB00FAC178BE8890888088D088C0DAEFC00A98C098D0DB008890888088D088C0 
4F0A40: DAEFEA0A98C098D0DB00D7403700F3F2EC323D0CE01CD7503700F6FCE832F68E 
4F0A60: EA32E114D7403700F7F4EC32E6FA6D4ED7503700F2F4E832F2F5EA32E6FBC641 
4F0A80: DAC78EEE06F439301850D7503700F6F4E832F6F5EA32E00AE01BDAC7CCEFE005 
4F0AA0: E6FA0080E00BDAC714EFD7600D0002F4DC2502F4DE2502F4E025DB00CC00CC00 
4F0AC0: E6FCDA1EE0EDE6FE0828DAC1D8BCD7503600F6F4F83FF6F5FA3FF0C4F0D5E00E 
4F0AE0: E6FF0828DAC71684DB00E6FCDA1EE0EDD7503600F2FEF83FF2FFFA3FDAC178BE 
4F0B00: E00CE00DD7503600F6FCF83FF6FDFA3FDB00E6FCFFFFD7503600F2FDF83FF2FE 
4F0B20: FA3FDC4EC4CD0428E6FCE835DB00E01CD7503600F2FDF83FF2FEFA3FDC4EC4CD 
4F0B40: 0428E6FCE835DB00E00F48E0BD0AF01F5C11F02CF03D0021DC43B8F208F140FE 
4F0B60: CDF6DB008890888088708860F09EE008F0695C2620694860BD2A88C088D0DAEF 
4F0B80: 4A0AF6F40EFE4B99F2F70CFE98D098C088C088D0DAEF4A0AF6F40EFE4B99F2FE 
4F0BA0: 0CFE98D098C05C17F01CF02D0017DC42A8F15C1EF07EF0ECF03D00E7DC43A87E 
4F0BC0: DC42B871DC43B8FE08814068ADD69860987098809890DB008890888088708860 
4F0BE0: 2804F07DF06CF0E6F0F706FE3A00DC5F981EA82E06F12600DC5298C1A8D1F0ED 
4F0C00: 70ECEA20480ED740360042FCF83F2D0AF0ECF0FDD7503600F2FCF83FF2FDFA3F 
4F0C20: DAC71685E018D7503600F2FEF83FF2FFFA3F06FE0228DC4FB88ED7503600F2FC 
4F0C40: F83FF2FDFA3FDC4DA92C2D1FDC4DA92C47F20A003D16DC4FA88E0881DC4FB88E 
4F0C60: DC4DA92C2D0EDC4DA92C47F220009D0908C1DC4DA92C2D05DC4DA92C47F22000 
4F0C80: 8DF708C1DC4DA92C3DE128C1DC4DA92C47F233003D22F01CF02D06F1FFFFDC42 
4F0CA0: A96147F670002D05DC42A92147F250003D14F01CF02D06F1FEFFDC42A96147F6 
4F0CC0: 6D002D05DC42A92147F24D003D06DC4DF42CFDFF47F22E002D05DC4FA88E2881 
4F0CE0: DC4FB88EDC4DA92C47F233003D22F01CF02D06F1FFFFDC42A96147F670002D05 
4F0D00: DC42A92147F250003D14F01CF02D06F1FEFFDC42A96147F66D002D05DC42A921 
4F0D20: 47F24D003D06DC4DF42CFDFF47F22E002D2BE102DC4DB92C28C1DC4DA94C47F4 
4F0D40: 33003DF7F01CF02D06F1FFFFDC42A96147F670002D05DC42A92147F250003DE9 
4F0D60: F01CF02D06F1FEFFDC42A96147F66D002D05DC42A92147F24D003DDBDC4DF42C 
4F0D80: FDFF47F22E003DD5D7503600F2FCF83FF2FDFA3F06FC0020DC4FA8EEDAEF480B 
4F0DA0: E008888088808880E0498890E6FC2C14E08D00D066FDFF3FF2FE02FEF0F8DAC2 
4F0DC0: BA3006F00800A880D49002009AF81440D7503600F2FCF83FF2FDFA3F06FC0020 
4F0DE0: D7503600F2FEF83FF2FFFA3FF01EDC4FD4E10228DAEF640BA880D49002009AF8 
4F0E00: 0B80E01CD7503600F2FDF83FF2FEFA3FDC4EC4CD06280D0AE008D7503600F2F9 
4F0E20: F83FF2FCFA3FDC4CC4890628E6F8FFFFD7503600F2F9F83FF2FCFA3FE00DDC5C 
4F0E40: C4890028C4D90428D7503600F2FCF83FF2FDFA3FF08CF09DD7503600F2FEF83F 
4F0E60: F2FFFA3FDC4FD41E04283D2006FE0028DC4FA81E0811DC4FB81ED7503600F2F1 
4F0E80: F83FF2F2FA3FDC42D43106283D29DC4FA8EEDC42D431022840E33D2288C088D0 
4F0EA0: E01CDAF0508398D098C00D1AD7503600F2F1F83FF2F2FA3F06F10028DC42A831 
4F0EC0: D7503600F2FEF83FF2FFFA3F06FE0428DC4FA84E0034DC42B831E001DC4FB81E 
4F0EE0: D7503600F2FEF83FF2FFFA3F06FE0028DC4FA81E4810DD11DC4FA81ED7503600 
4F0F00: F2F2F83FF2F3FA3FDC43D44202280014DC5FB81EA81E4810CDEFDC4FA81EF031 
4F0F20: D7503600F2F1F83FF2F2FA3F06F10228DC42A8414034CD0CDC4FA83EDC42A841 
4F0F40: 2034DC5FB83EA83EDC42A8414034DDF4DC4FA8EE5C1ED7503600F2FFF83FF2F2 
4F0F60: FA3F00FEDC42D41F0020DC4DA96C2D1F4810BD1DDC4DA94C47F40A003D14DC4D 
4F0F80: A94C2D0EDC4DA94C47F420009D0908C1DC4DA94C2D05DC4DA94C47F420008DF7 
4F0FA0: F08CF09D281108C1DC4DA94C3DE1E00CDC49A92847F21F00FD0908C1F0D8F0E9 
4F0FC0: 00DCDC4EA92D47F21F00EDF7F0F6F01706FF5600DC5198DFA8EFF0FE70FD2D14 
4F0FE0: 88C088D088E088C0D4D00200D4C00400F0E8F0F9DAC7B483080298E098D098C0 
4F1000: E10200DCDC4EB92DF0C6F0D7E00EE00FDADBAEB508049860987098809890DB00 
#pragma disable old_equal_ff
;------------------------- end -------------------------

