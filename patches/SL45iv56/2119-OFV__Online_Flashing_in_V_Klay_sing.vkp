;SL45iv56
;OFV. Флеширование с V_Klay в режиме онлайн
;OFV. Online Flashing in V_Klay single version
;(c) mamaich
;(p) Seklth
;Version: 
;PatchID: 2119
;Details: https://patches.kibab.com/patches/details.php5?id=2119
/*
Из Сборника патчей (c) mamaich. Version 0.71b (patchID 1730). 

Изменение фуллфлеша с помощью V_Klay 2.3.2 и выше в режиме ONLINE. 
Используйте на ваш риск! 
Не модифицировать EEPROM! 
Не использовать во время явы или МП3, так как используется ява память для внутренних буферов. 
Онлайн патчинг может вызвать глюки сети и иногда SIM/MMC-ошибки карты, когда запускается патч 
во время работы каких-либо процессов. Решается перезапуском телефона.
*/

;change xref to GSN entry's 
0010F502: FC30C302 0000BC03 
0010F8D0: FC30C302 0000BC03 

#pragma enable old_equal_ff 
004F0000: 22C1D2002409EF00 
004F0008: FA01F055050020F60A000000FFFFFFFF427965004F4B007620302E320D0A000D 
004F0028: 0A00496C6C6567616C20636F6D6D616E64008A8803B0DA015851DB00BE88F6A1 
004F0048: 24F6E621620CE6A1C700DB008A8803B0F2A124F6BF88DB009A8802B0EA007251 
004F0068: 8AB10270EA0072517EB13AE4E411E621620CDB007EB6F01CC02CF6FCB0FE0D02 
004F0088: DA0158519AB6FC70DB000D02DA0158519AB7FC707EB7F2F4B2FE66F4FF00DB00 
004F00A8: 88D088C00D09A8C0D4D00200DC4D992CB8C0D02CDA017451A8C0D4D00200DC4D 
004F00C8: A92C3DF10804DB00DC4DA92C2D02DA01A051E6FC1F11E6FD0500DA01A051DB00 
004F00E8: 88908880DA018A51F084F098BCF9F0C85C885C897C8C709CDA018A51F0C4BCFC 
004F0108: 7084709CF0C85C885C897C8C709CDA018A51F0C4BCFC7084709CF048F0599880 
004F0128: 9890DB008880DA018A51F0845C88DA018A517084F0489880DB0088C0BC8CDA01 
004F0148: 745198C0DA017451DB0088C0DA01745198C0BC8CDA017451DB00889088808870 
004F0168: 8860DA01E051F064F075DA01E051F084F095F0C6F0D7E0060D1188D0F07CDC0D 
004F0188: A92CD02CDA01745198D0F0C7DC0DA9ECD0E7506708C118D028813890F0797078 
004F01A8: 3DECE6FC4F00DA017451E6FC4B00DA017451F0C6DA017451E00CDA0174519860 
004F01C8: 987098809890DB00F0ECF0FD28E036FFBF00CD06F0ECF0FD28E036FFC000CD04 
004F01E8: 28C036FDFF00CD02E014DB00E004DB00E7F26000DC0DB92CE7F4D000DC0DB94C 
004F0208: E7F65000DC0DB96CE7F82000DC1DB98CB94CE7FA7000DC0DB9AC88C088D0DA01 
004F0228: 585198D098C0DC0DA92C9AF1F670E7F2FF00DC0DB92CDB00E7F26000DC0DB92C 
004F0248: E7F4D000DC0DB94CE7F65000DC0DB96CE7F84000DC1DB98CB8ECE7FA7000DC0D 
004F0268: B9AC88C088D0DA01585198D098C0DC0DA92C9AF1F670E7F2FF00DC0DB92CDB00 
004F0288: 889088808870886026F01000DA012452F094E006F0895CC95CC67C4870680890 
004F02A8: 16F6A000E6F81000E007B870C4700200F2F726F6F2FC28F6E00DE6FEA000F0F9 
004F02C8: F01628F036F1C000CD02E6FEC00088C088D088E0F0C9F0D6DA01C85298E098D0 
004F02E8: 98C048402D01E02888C0F04DF05EE6FA0040E00BDA01A058C4400E00C4501000 
004F0308: F0C4DA014A5298C088C0F049F056E6FA0040E00BDA014C59C4400600C4500800 
004F0328: F0C4DA014A5298C088C0F049F056E6FA0040E00BDA01A058C4400A00C4500C00 
004F0348: F0C4DA014A5298C088C0E6FCC400DA014A5298C088C0E6FC8900DA014A5298C0 
004F0368: 88C0F0C8DA014A5298C088C0E6FCFFFFDA014A5298C00D22E00D88C088D0DA01 
004F0388: 8A51F0E498D098C088C088D088E0DA018A51F0F498E098D098C0F01E501FD420 
004F03A8: 02005021C42002005C8F70EFDC0CB8E7087218C086FDFF07CDE028814880ADDC 
004F03C8: DA018A51D480020040482D06E6FCBBBBDA014A52EA008E55D4C00C00DA014A52 
004F03E8: D4C00800DA014A52D4C00400DA014A52F0C9F0D6DA01F052E6FC0202DA014A52 
004F0408: D4C00C00DA014A52D4C00800DA014A52D4C00400DA014A52F0C9F0D6DA01C852 
004F0428: 48402D02E0280D02E6F81000F2F726F6F2FC28F60D1BE00D88C088D0F0C9F0D6 
004F0448: D4E00200F0FEDC0EA8E7DA01385398D098C008921860DC0CA8E7A8F000FEB8F0 
004F0468: 087218C086FDFF07CDE728814880ADE3E6FC0303DA014A52A8C0DA014A52E6FC 
004F0488: 4F00DA017451E6FC4B00DA01745106F010009860987098809890DB008880DA01 
004F04A8: 8A51F084E6FC6800DA01745148802D0748812D0848822D0B48832D0E0D11E65A 
004F04C8: 0D000D02E65A0600E65BFC010D09E65A0200E65BB3010D04E65A0000E65B2201 
004F04E8: DA018A51E6FC4800DA0174519880DB00E6FC1711E6FD0500DA01A051DA013251 
004F0508: F6EA22F6F6EB20F61FEA1FEBD180E69F0600E008E08CF6F826F6F6FC28F6E6FC 
004F0528: 1411E6FD0500DA01C851DA018A51F08446F841002D1646F848002D1846F84900 
004F0548: 2D1846F852002D2046F846002D2046F851002D2046F85A002D1D46F858002D1A 
004F0568: 0D1CE6FC5200DA0174510D1DDA019C550D1AE00C88C0E6FC3000DA01745198C0 
004F0588: 86FC2F02CDF70D0FDA015A520D0CDA0180530D09E6F858000D06E6FC2211E6FD 
004F05A8: 0500DA01C85146F858003DBFE6FC1011E6FD0500DA01C851F2EA22F6F2EB20F6 
004F05C8: D180E69F0000DA014C51D7600F00F25ADC2BF2D8DE2BF25BE02BDB00E6F1FEFD 
004F05E8: 46F102F62D0546F100F62D0284011CFFB6F14CFD3DF5E6F4DC16E6000500CC00 
004F0608: 985448512D5C48552D5048562D3148573D5998149834F1731C2366F3FF03F6F3 
004F0628: 02FEFEF1EFF198249834F1751C2366F3FF03F6F304FEFFF2EEF298549864A005 
004F0648: 3D02A0062D10C91286F1FF7F3D04E6F100400601010086F2FFBF3DF1E6F20080 
004F0668: 060201000DECE6010500E60202000DC89814FEF1EFF1940402FE08429824FFF2 
004F0688: EEF2940404FE08429854A0052D09E91286F1FF7F3DFAE6F10040060101000DF5 
004F06A8: E6010500E60202000DAB981498249854E6000000A0052DA1E91208110DFB06F4 
004F06C8: 0C000D9EE6F40411E6000500CC00985448552D3148562D1F48573D3798149834 
004F06E8: F1731C2366F3FF03F6F302FEFEF1EFF198549864A0053D02A0062D0AA4011CFF 
004F0708: 86F1FF7F3DF7E6F10040060101000DF2E60105000DDC9814FEF1EFF1940402FE 
004F0728: 08429854A0052D04A4011CFF08110DFAE60105000DCC98149854E6000000A005 
004F0748: 2DC3A4011CFF08110DFAE6000000DB000A89DF101A8900FF0A863F1E1A8604DF 
004F0768: E60A0CFAE60900FCE60B00FCE60800F6CC00E6000000E6010500E6020200E6F0 
004F0788: C2F6A55AA5A5B54AB5B5DA01DC56BF88E00CE00DE00EDA01F055877887870DFD 
004F07A8: 8810F0157D038150814038509AFB04F0911081B081A038B0DA01CA589AF103F0 
004F07C8: 8150814038509810DB0088202B2B3D10F6F50EFE5BAAF2F20CFEF2F50EFEF6F2 
004F07E8: 0CFEF6F40EFE7BAAF2F40EFE9820DB008850884088A088B048203D03F045E005 
004F0808: 0D0A4CB281206CA270BAF0A56C526C4281204CA2704AF6F50CFEF6F40EFE7BBB 
004F0828: F2F40EFE98B098A01B4BF2F50EFE1B4A02F50CFEF2FB0EFE9D0208040D0328BC 
004F0848: 385CFD012841E0059820DB008810F0157D038150814038509AFB03F081B081A0 
004F0868: 38B0DA0174599AF103F08150814038509810DB0088202B2B3D0DF6F50EFE5BAA 
004F0888: F6F40EFE7BAAF2F40CFEF2F50EFEE0059820DB008850884088A088B048203D03 
004F08A8: F045E0050D0A4CB281206CA270BAF0A56C526C4281204CA2704AF6F50CFEF6F4 
004F08C8: 0EFE7BBBF2F40EFE98B098A01B4BF2F50EFE1B4A02F50CFEF2F40EFE9D02204A 
004F08E8: 305B284C385CFD02204A305B8150814038509820DB 
004F08FE: E6FE0011E05FE6FC0800E6FDBC03E001DC4DA82CDC4FB82E08E208C2081146F1 
004F091E: 7B048DF6DB00DAD38E8AF0C4F0D5DC4DA92C47F23A00EA306009DC4DF42C0100 
004F093E: 47F24600EA306009E6FC7209E6FDBC03DAC40070DAEFFE08DAD222C1FA010051 
004F095E: DB00D750C302F2F40031F2F50231DAC788EEDB00 
004F0972: 0D0A00 
#pragma disable old_equal_ff 

;Prevent phone from a crash: 
;This fix allows you to write patches that disable interrupts for a very 
;long period of time. Of cause you should also use T3/P4.1 trick to serve WDT. 
;Additionally this patch fixes several traps that occure after applying 
;some other patches (like the phone switching off in "Prnce of Persia"). 
;You should not commend these lines as they would cause no harm when the 
;firmware operates in a normal way (the patched code is never executed). 
00241FE4: 8D24 CC00 
00241FF2: 9D20 CC00 
00242006: 9D19 CC00 
0024200C: 8D16 CC00 
00241F28: 9D1E CC00 
00241F44: 9D13 CC00 
0020C20A: ED07 CC00 
0022B9DA: 3D03 0D03 
0022D116: ED03 0D03 
002B0A9E: 9BFE CC00 
00215E12: E64734B79BFE E0FCC4C09203 
002DCA7E: EA3030CB EA0030CB 
002B0BF4: 9BFE CC00
;------------------------- end -------------------------

