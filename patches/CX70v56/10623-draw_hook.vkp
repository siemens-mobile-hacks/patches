;CX70v56
;Draw Hook
;Draw Hook
;(c) Dimadze
;Version: 1.9
;PatchID: 10623
;Details: https://patches.kibab.com/patches/details.php5?id=10623
/*
Патч, следит за функцией DrawObject(), через которую отрисовывается практически всё на Siemens,
т.е. когда параметр содержит указатель на 5ый объект отрисовки (`IMGHDR+RECT), патч проверяет
на альфа-канал, если его нет (bpnum!=0x0A), то всё отрисовывается стандартным образом, иначе
в дело вступает самописная ф-ия отрисовки, она сделана максимально оптимизированной.
В основе её работы лежит запись битмапа изображения прямо в промежуточный буфер отрисовки,
я назвал его RamScreenPhoneCache (есть аналогичный для Java) c вычислением цвета при альфа - канале.
В итоге на SGold X65 могут отрисовывться 32 битные (24bit+alpha) изображения в эльфах, а также менять
графику используя все 32 бита, а не 8 и 16.
Даже на CX75 видна разница, по стандарту видны "разводы", с патчем изображение рисуется совершенно чётко.
Скорость отрисовки с патчем и без по моим наблюдениям не меняеться.

*/

;PATCH_DRAWOBJECT_OBJ05
0x00CAEAE4: F0B5051C0C1C F0B513F30BFD
;PATCH_DRAWOBJECT_OBJ17
0x00CE8EB4: F0B585B0061C F0B5D9F231FB
;PATCH_BODY,CODE
#pragma enable old_equal_ff
0x00FC2500: 051C0C1C07B54A699278F0218A430A2A
0x00FC2510: 03D1011C201C084A904707BD85B0061C
0x00FC2520: 07B54A691268F0218A430A2A03D1011C
0x00FC2530: 201C024DA84707BD4529FCA06D29FCA0
0x00FC2540: 30B50B00DC78DD780200D006000EFF21
0x00FC2550: 091B4843997861434018FF2100F02AFA
0x00FC2560: 0C06FC20C0001040C010FF21491B4843
0x00FC2570: 5978E40E69434018FF2100F01BFA0806
0x00FC2580: 800E40012418F82000021040000AFF21
0x00FC2590: 2A00891A4843197851434018FF2100F0
0x00FC25A0: 09FA0806C00EC00220180004000C30BD
0x00FC25B0: F2B581B00400606900254078002802D1
0x00FC25C0: 02B0F0BD6D1C606941788D42F8DA0078
0x00FC25D0: 0026800001281BDAF4E70E27E75F2900
0x00FC25E0: 41430C23E35E47437800019F4900BF69
0x00FC25F0: F20F921952105B003818C01880184718
0x00FC2600: 3888694600040014FFF79AFF3880361D
0x00FC2610: 6069017889008E42D4DA019B0C21615E
0x00FC2620: 7210920F92199210891814229A5E8A42
0x00FC2630: EDDB10229A5E9142E9DB0E21615E1622
0x00FC2640: 9A5E49198A42E2DB12229A5E9142DEDB
0x00FC2650: 017840686943890071184018C0786946
0x00FC2660: C8700028D3D06269137852686B439B00
0x00FC2670: F318D21892780A706269137852686B43
0x00FC2680: 9B00F318D21852784A7063691F785B68
0x00FC2690: 6F43BF00F719DB5DFF288B7001980068
0x00FC26A0: 9BD12F0047437F0080B4DB0892085201
0x00FC26B0: F70FBF197F1080B49A180C27E75F7F00
0x00FC26C0: BC460E27E75F474303987F008069C019
0x00FC26D0: 6746C01980BCC01980BC0978C908C902
0x00FC26E0: 5118C15393E70000F3B586B000200290
0x00FC26F0: 03900026050002980521484305900399
0x00FC2700: 04AC89004018069949694A68175C3F06
0x00FC2710: 3F16012F00DA82E011180979E1700029
0x00FC2720: 1CD00699496949680918C97821700699
0x00FC2730: 49694968091889786170069949694968
0x00FC2740: 08184078A07009E06D1C2D042D140026
0x00FC2750: 7F1E3F063F16012F00DADAE00699079B
0x00FC2760: 0C20085E14229A5E81198A423FDB1022
0x00FC2770: 9A5E91423BDB069A0E21525E1621595E
0x00FC2780: 5319994233DB07999C461223C95E8C45
0x00FC2790: 2DDBE17800292AD0079B1B6801936B43
0x00FC27A0: 5B0008B473009C464300029842435000
0x00FC27B0: 089A92691018C0186346C01808BCC018
0x00FC27C0: 0090FF290BD1A1786278C90892085201
0x00FC27D0: 89182278D208D2028918018007E00088
0x00FC27E0: 04A900040014FFF7ABFE009908800698
0x00FC27F0: 40690078401E8642A6DA761C36043614
0x00FC2800: A6E76D1C2D042D1400260020C0438742
0x00FC2810: 02DA0398401C03907F1C3F063F16002F
0x00FC2820: 77D50598039989004018069949694968
0x00FC2830: 09180979E170002911D0069A52695268
0x00FC2840: 1218D2782270069A5269526812189278
0x00FC2850: 6270069A5269526810184078A070069A
0x00FC2860: 079B0C20125E1420185E9319984245DB
0x00FC2870: 07989C461023C05E84453FDB069B0E20
0x00FC2880: 185E0190019840190090079B1620185E
0x00FC2890: 009B984232DB07989C461223C05E8445
0x00FC28A0: 2CDB00292AD007982B00006852004343
0x00FC28B0: 5B0008B473009C46029B434308985B00
0x00FC28C0: 8069C01880186346C01808BCC0180090
0x00FC28D0: FF290BD1A1786278C908920852018918
0x00FC28E0: 2278D208D2028918018007E0008804A9
0x00FC28F0: 00040014FFF724FE0099088006984069
0x00FC2900: 0078401E864200DB7BE7761C36043614
0x00FC2910: 7BE7002E04D106984069407885420FDA
0x00FC2920: 069A07980E21515E40684919884207DB
0x00FC2930: 02980021401C0290C943884200D0DAE6
0x00FC2940: 08B0F0BD30B5040060690D0040880A28
0x00FC2950: 02D12000FFF72CFE606940888A2803D1
0x00FC2960: 29002000FFF7C0FE30BD000030B582B0
0x00FC2970: 04000D00616968464968017061698968
0x00FC2980: 41706169096841806069406901906846
0x00FC2990: 606140880A2803D129002000FFF708FE
0x00FC29A0: 606940888A2803D129002000FFF79CFE
0x00FC29B0: 02B030BD7847C0460C002DE941C0B0E1
0x00FC29C0: 001061228CC0A0E140C03CE000006022
0x00FC29D0: 0120B0E13100000A0030A0E3200851E1
0x00FC29E0: 0118A091200451E10114A091A00051E1
0x00FC29F0: 2000008A200151E11C00008AA00151E1
0x00FC2A00: 1700008A200251E11200008AA00251E1
0x00FC2A10: 0D00008A200351E10800008AA00351E1
0x00FC2A20: 0300008A810350E1810340200330A3E0
0x00FC2A30: 010350E1010340200330A3E0810250E1
0x00FC2A40: 810240200330A3E0010250E101024020
0x00FC2A50: 0330A3E0810150E1810140200330A3E0
0x00FC2A60: 010150E1010140200330A3E0810050E1
0x00FC2A70: 810040200330A3E0010050E101004020
0x00FC2A80: 0330A3E0020051E12114A081E4FFFF8A
0x00FC2A90: 0310A0E18C3FB0E10010612200006042
0x00FC2AA0: 0C00BDE81EFF2FE1
#pragma disable old_equal_ff

;------------------------- end -------------------------

