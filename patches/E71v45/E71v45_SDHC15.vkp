;E71v45
;Поддержка карт памяти SDHC 
;SDHC memory card support 
;(c) Evgr
;Version: 1.5
;PatchID: 10540
;Details: https://patches.kibab.com/patches/details.php5?id=10540
/*
+ исправлено отображение размера и свободной памяти карты SDHC из закладки диск 4 с открытыми скрытыми дисками
+ исправлена процедура расчёта размера карты SDHC
*/
; + исправлено отображение размера и свободной памяти карты SDHC из закладки диск 4 с открытыми скрытыми дисками

04D8418: 96080AE0 84EA3BEB ; read support for SDHC
04D7F48: 97060AE0 BEEB3BEB ; write support for SDHC
04D90B8: 00EBA0E1 68E73BEA ; CSD structure version and SDHC size calculation
04D889C: 0400A0E1 8BE93BEA ; card initialization
054ABA4: 1400DD05B011DD0191000000 0A00001A1400DDE5B011DDE1 ; card free space calculation
054ABB0: 0C109D059100000000008705 910000E00C409DE50A213AEB
069853C: F1E2FCEB B8EA34EB ; display card free space from My stuff tab
0698578: E2E2FCEB B1EA34EB ; display card size from My stuff tab
06986CC: 8DE2FCEB 54EA34EB ; display card free space from disk 4 tab
0698708: 7EE2FCEB 4DEA34EB ; display card size from disk 4 tab

#pragma enable old_equal_ff
13D2E30: 04A095E501A10AE200005AE396080A00
13D2E40: 08A0A0111EFF2FE104A095E501A10AE2
13D2E50: 00005AE397060A0006A0A0111EFF2FE1
13D2E60: 24C096E52CCFA0E101005CE300EBA011
13D2E70: 9118C41A00EDA0E12EEDA0E10EE8A0E1
13D2E80: 21C88EE101C08CE20110A0E30209A0E3
13D2E90: 9718C4EA04E02DE514D04DE20830A0E3
13D2EA0: 0430CDE508108DE50110A0E30C10CDE5
13D2EB0: 10208DE50010A0E3001082E5202090E5
13D2EC0: 04008DE232FF2FE114D08DE204F09DE4
13D2ED0: 0400A0E1991EC4EB000050E3DC16C41A
13D2EE0: 0620A0E1EC109FE50400A0E1E8FFFFEB
13D2EF0: 000050E30400A0116816C41A0010A0E3
13D2F00: 0400A0E14316C4EB087085E2BCB09FE5
13D2F10: 046085E20080A0E302A0A0E3000050E3
13D2F20: CE16C41A0620A0E10010A0E30400A0E1
13D2F30: 8E1EC4EB000050E3C516C41A0100A0E3
13D2F40: 0000C5E52B80C5E50400A0E10010A0E3
13D2F50: 3016C4EB000050E3D416C41A0620A0E1
13D2F60: 1D0000EB0400A0E1801EC4EB000050E3
13D2F70: CE16C41AD72CB8EB0C008BE50F0000EA
13D2F80: 0C009BE5E994D0EB44109FE5010050E1
13D2F90: D816C48A0010A0E30400A0E11D16C4EB
13D2FA0: 000050E3D316C41A0620A0E1090000EB
13D2FB0: 0400A0E16D1EC4EB000050E3CD16C41A
13D2FC0: 040095E5000050E3ECFFFFAA6A16C4EA
13D2FD0: 0xA8D95D88,404B4C00AA010000001094E5
13D2FE0: 011181E31EFF2FE100402DE90060A0E1
13D2FF0: 940601E0BD73EFEB040050E10000A003
13D3000: 0100A0132662A0110410A0E1910604E0
13D3010: 004087E504409FE50000C4E50080BDE8
13D3020: 0xA8D8053F,00402DE910E01FE500E0DEE5 ; 0xA8D8053F freeRAM 1 byte
13D3030: 00005EE32CE09F052CE09F153EFF2FE1
13D3040: 0080BDE800402DE920E09FE500E09EE5
13D3050: 01E10EE200005EE308E09F0508E09F15
13D3060: 3EFF2FE10080BDE8,0xA05D1108,0xA13D3074
13D3070: 0xA8D95E24,FE402DE90160B0E10250A0E1
13D3080: 0040A0E11400000A0600A0E1BCA0C4FA
13D3090: 100050E31000003A0400A0E1721DFBEB
13D30A0: 40508FE238109FE50400A0E104F8C7EB
13D30B0: 6D1DFBEB421DFBEB0010A0E104008DE2
13D30C0: 81F8C7EB0020A0E10510A0E10600A0E1
13D30D0: 9DAED5FA0100A0E3FE80BDE80000A0E3
13D30E0: FCFFFFEA00CA9A3B2573204742000000
#pragma disable old_equal_ff

13D30E4: 00CA9A3B 00000004 ; Real size, Gb
;------------------------- end -------------------------

