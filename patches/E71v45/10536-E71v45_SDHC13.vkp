;E71v45
;Поддержка карт памяти SDHC 
;SDHC memory card support 
;(c) Evgr
;Version: 1.3
;PatchID: 10536
;Details: https://patches.kibab.com/patches/details.php5?id=10536
/*
+ правильное отображение размера и свободного места карты SDHC
*/

; + правильное отображение размера и свободного места карты SDHC

04D8418: 96080AE0 84EA3BEB ; read support for SDHC
04D7F48: 97060AE0 BEEB3BEB ; write support for SDHC
04D90B8: 00EBA0E1 68E73BEA ; CSD structure version and SDHC size calculation
04D889C: 0400A0E1 8AE93BEA ; card initialization
054ABA4: 1400DD05B011DD0191000000 0A00001A1400DDE5B011DDE1 ; card free space calculation
054ABB0: 0C109D059100000000008705 910000E00C409DE509213AEB
069853C: F1E2FCEB B7EA34EB ; display card free space
0698578: E2E2FCEB B0EA34EB ; display card size

#pragma enable old_equal_ff
13D2E30: 04A095E501A10AE200005AE396080A00
13D2E40: 08A0A0111EFF2FE104A095E501A10AE2
13D2E50: 00005AE397060A0006A0A0111EFF2FE1
13D2E60: 24C096E52CCFA0E101005CE300EBA011
13D2E70: 9118C41A00EDA0E12EEDA0E10EE8A0E1
13D2E80: 21C88EE101C08CE20209A0E39818C4EA
13D2E90: 04E02DE514D04DE20830A0E30430CDE5
13D2EA0: 08108DE50110A0E30C10CDE510208DE5
13D2EB0: 0010A0E3001082E5202090E504008DE2
13D2EC0: 32FF2FE114D08DE204F09DE40400A0E1
13D2ED0: 9A1EC4EB000050E3DD16C41A0620A0E1
13D2EE0: EC109FE50400A0E1E8FFFFEB000050E3
13D2EF0: 0400A0116916C41A0010A0E30400A0E1
13D2F00: 4416C4EB087085E2BCB09FE5046085E2
13D2F10: 0080A0E302A0A0E3000050E3CF16C41A
13D2F20: 0620A0E10010A0E30400A0E18F1EC4EB
13D2F30: 000050E3C616C41A0100A0E30000C5E5
13D2F40: 2B80C5E50400A0E10010A0E33116C4EB
13D2F50: 000050E3D516C41A0620A0E11D0000EB
13D2F60: 0400A0E1811EC4EB000050E3CF16C41A
13D2F70: D82CB8EB0C008BE50F0000EA0C009BE5
13D2F80: EA94D0EB44109FE5010050E1D916C48A
13D2F90: 0010A0E30400A0E11E16C4EB000050E3
13D2FA0: D416C41A0620A0E10A0000EB0400A0E1
13D2FB0: 6E1EC4EB000050E3CE16C41A040095E5
13D2FC0: 000050E3ECFFFFAA6B16C4EA,0xA8D95D88
13D2FD0: 404B4C00AA010000001094E5011181E3
13D2FE0: 1EFF2FE100402DE90060A0E1940601E0
13D2FF0: BE73EFEB040050E10000A0030100A013
13D3000: 2662A0110410A0E1910604E0004087E5
13D3010: 04409FE50000C4E50080BDE8,0xA8D8053F ; 0xA8D8053F freeRAM 1 byte
13D3020: 00402DE910E01FE500E0DEE500005EE3
13D3030: 2CE09F052CE09F153EFF2FE10080BDE8
13D3040: 00402DE920E09FE500E09EE501E10EE2
13D3050: 00005EE308E09F0508E09F153EFF2FE1
13D3060: 0080BDE8,0xA05D1108,0xA13D3070,0xA8D95E24
13D3070: FE402DE90160B0E10250A0E10040A0E1
13D3080: 1400000A0600A0E1BDA0C4FA100050E3
13D3090: 1000003A0400A0E1731DFBEB40508FE2
13D30A0: 38109FE50400A0E105F8C7EB6E1DFBEB
13D30B0: 431DFBEB0012A0E104008DE282F8C7EB
13D30C0: 0020A0E10510A0E10600A0E19EAED5FA
13D30D0: 0100A0E3FE80BDE80000A0E3FCFFFFEA
13D30E0: 00CA9A3B2573204742000000
#pragma disable old_equal_ff

13D30E0: 00CA9A3B 00000040 ; Real size, Gb
;------------------------- end -------------------------

