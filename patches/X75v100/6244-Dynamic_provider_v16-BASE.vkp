;X75v100
;Динамическая замена имени оператора и субоператора
;Dynamic replacing of Provider and Subprovider name
;(c) avkiev
;(r) Bennie, arsh0r
;Version: 16-BASE
;PatchID: 6244
;Details: https://patches.kibab.com/patches/details.php5?id=6244
/*
Обновление! Совместимость с загрузчиком эльфов 2.2
UseIfNoMP3=0F
UseIfNoTMO=08 - ставить нельзя! Будет виснуть телефон, ибо в некоторых случаях получается замкнутый круг.

Подробное описание - в теле патча.
*/
/*
Имена оператора и субоператора заменяется на строку, меняющуюся с течением времени.
В патче предусмотрены восемь циклических буферов (по 4 на оператора и субоператора),
содержимое которых определяет то, что будет выводиться на экран.
Первый буфер определяет замены в режиме главного экрана, незалоченной клавиатуре.
Второй буфер - в режиме главного экрана, залоченной клавиатуре.
Третий буфер - в режиме плеера, незалоченной клавиатуре.
Четвертый буфер - в режиме плеера, залоченной клавиатуре.
Строка замены состоит из двух частей, разделенных пробелом.
Пример №1: буфер начинается с 34h.
Это значит, что имя оператора будет заменено на результат работы
функции №3 и функции №4, разделенных пробелом.
В нашем примере это будет "Время + Дата".
Если следующий байт равен 06h, то при следующем обновлении экрана 
будет выведено "Дата".
И так в цикле, 8 раз, после чего мы опять вернемся к байту 34h
Пример №2: для того, чтобы всегда было "Время+Температура" нужно этот буфер забить байтом 3Bh.
Список доступных функций:
+---+-------------------------+-----------------+------+----------------------------------+
| N | Название                | Формат          | Длина| Комментарии                      |
+---+-------------------------+-----------------+------+----------------------------------+
| 0 | Пусто                   |                 | 0    |                                  |
| 1 | Юникод-строка 1         |                 |      |                                  |
| 2 | Название профиля        |                 |      |                                  |
| 3 | Время                   | 15:56           | 5    |                                  |
| 4 | Дата                    | 11.02.2005      | 10   |                                  |
| 5 | Дата                    | 02/11/2005      | 10   |                                  |
| 6 | Дата                    | Пт, 11 Фев 2005 | 15   |                                  |
| 7 | Дата                    | Февраль, 11     |      |                                  |
| 8 | Название текущего трека |                 |      | ID3 трека, который играет плеер  |
| 9 | День недели             | Понедельник     |      |                                  |
| A | Аккумулятор             | 3,685 = 70%     | 11,12| Напряжение и заряд аккумулятора  |
| B | Температура             | 31,9'C          | 6    |                                  |
| C | Оператор                | UMC             |      |                                  |
| D | Уровень сигнала         | -65 dB          | 6,7  |"-" - 900, "=" - 1800             |
| E | Сетевая инфа            | 05513-1010:844  | 15   |CI-LAC:CH - Текущие сота,LAC,канал|
| F | Misc\GPS\LAC\CI-LAC.tmo | ул.Крещатик, 27 |      |Местоположение                    |
+---+-------------------------+-----------------+------+----------------------------------+
*/
#pragma enable old_equal_ff
0061600: 01B500F012F808BC01D1181C41DF00BD
0061610: 00B5301C022300F009F801D1301C8DDF
0061620: EA79311C08BC043398470123F9B50468
0061630: EC48C4DF3ED0061C0830011C0831B4DF
0061640: 301C0830B5DFF075019F012F04D1F07C
0061650: 013007210840F074F55DFF2D2AD0002D
0061660: 09D17FDF4500B9006D1843DF2D1AED00
0061670: F07C4019355CC7DFCA80071CF0790130
0061680: 011C021C031C0FB42B0904D000F013F8
0061690: 2023023423800F232B4000F00CF804B0
00616A0: 00980068241A6408F1798C4200D90C1C
00616B0: 04800120FABD00B55B009F4400BDFDE7
00616C0: 0DE00FE018E01FE028E031E04AE056E0
00616D0: 85E08CE0A5E0BFE0C8E0D9E0E9E0301C
00616E0: 58303CE1208811B401A88DDF03BC2288
00616F0: 20805200A41800BD307C00F03EF93A23
0061700: 02342380707C39E100F036F92E230234
0061710: 2380307B00F031F92E231FE0307B00F0
0061720: 2CF92F230234238000F026F92F2315E0
0061730: C7DFE5800D30F17D00F018F92C236380
0061740: 2023A380043400F017F9202302342380
0061750: C7DFE580317B00F009F9202302342380
0061760: 30890BE1C7DFED80317B00F0FFF80A3C
0061770: 2C2363802023A3800434707BFEE07FDF
0061780: 012829D1C7DFDD800021435E0233FF33
0061790: 01D10230E3E035210901F27901320378
00617A0: 0130802B0DD303B47DA0023802300188
00617B0: 002904D09942F9D1038C01995B1A03BC
00617C0: 5B1802342380002B01D0013AE7D1023C
00617D0: 2388202BFBD000BD01B0357954E7F07D
00617E0: 411C072900D10021C7DFEE80BFE00020
00617F0: 092106DF023400F0C0F8083C60882080
0061800: 2C20608020236381E3813D23A3810E34
0061810: C7DFC880008800F0B0F8252302342380
0061820: 00BD0120032106DF0A210902AA31401A
0061830: 0322B156401803D52D23023423804042
0061840: 00F09BF820882C2323806080B023A380
0061850: 4323E380063400BD30B4258868460021
0061860: 41DF208825804000241821BD2D233988
0061870: FF2900D33D2302342380B87900F07DF8
0061880: 202363806423A3804223E380063400BD
0061890: 7A88002AFBD0BB88388831B401A8311C
00618A0: 78312588C7DF24012088258040002418
00618B0: 26BD7B88002B4ED0BA888AB0009201A8
00618C0: 311C883116DF01A8694611DF0CD40098
00618D0: 01884900023000234352043000F03EF8
00618E0: 009815DF0AB000BD8BB06B4608B4B379
00618F0: 002B2FD0002304936846311CA8317A88
0061900: BB88C7DF240101A801880A1C02300388
0061910: 5A400139FAD142800DA85C21C7DF1701
0061920: 051C002129700DA8694610DF5C212970
0061930: 0DA8032109020131012212026B460ADF
0061940: 051C01A90A88023252006B460CDF281C
0061950: 69460DDF16B001B0757995E600B50388
0061960: 002B08D0023002342380F8E700B54018
0061970: A11C07DF8C1E00BD707B00B581DF0A28
0061980: 04D302B4FFF7F9FF02BC02E030300234
0061990: 208030310234218000BD

00619A0: 0x0B8,0x0BA,0x0B3,0x0BF,0x0B4,0x0A8,0x0AA,0x0B2,0x0AF,0x0A5,0x0000
00619C0: 0x451,0x454,0x456,0x457,0x491,0x401,0x404,0x406,0x407,0x490

00619E0: 0xB1C2D3E4,0x0000AB04,0000000000000000,"\
{p=`Dynamic provider` ver=16 cp=avkiev id=AB04}\
{1 h UseInString1}\
{2 h UseInString2}\
{3 b TempAdjust r=-50..50 v=15}\
{4 h UseIfNoMP3 v=0F}\
{5 h UseIfNoTMO v=0E}\
{6 cb CreateNewTMO v=1}\
{7 b MaxLen v=22}","\
{24 h Normal1 ml=8 v=3406BACD3406BACD}\
{32 h Locked1 ml=8 v=3406BACD3406BACD}\
{40 h MP3.Normal1 ml=8 v=3406BACD3406BACD}\
{48 h MP3.Locked1 ml=8 v=3406BACD3406BACD}","\
{56 h Normal2 ml=8 v=0F020F020F020F02}\
{64 h Locked2 ml=8 v=0F020F020F020F02}\
{72 h MP3.Normal2 ml=8 v=0802080208020802}\
{80 h MP3.Locked2 ml=8 v=0802080208020802}","\
{88 u StringFun1 v=string}\
{120 s `CI-LAC:CH` v=`%05u-%04u:%03u`}\
{136 s GPS ml=31 v=`0:\\Misc\\GPS\\%i\\%i-%i.tmo`}\
{168 s NewCell v=`0 cell:%u-%u`}\
",00
#pragma disable old_equal_ff
;------------------------- end -------------------------

