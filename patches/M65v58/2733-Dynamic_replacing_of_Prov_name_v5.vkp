;M65v58
;Динамическая замена имени оператора
;Dynamic replacing  of Provider name
;(c) avkiev
;(p) starter48
;Version: 5
;! доступна новая версия патча, https://patches.kibab.com/patches/details.php5?id=2785
;PatchID: 2733
;Details: https://patches.kibab.com/patches/details.php5?id=2733
/*
Не совместим с патчем * Замена имени оператора на выбранные функции * и * МиниGPS с логгингом БС v0.8 *
Имя оператора заменяется на строку, меняющуюся с течением времени.
Частота обновления является частотой опроса сети телефоном.
16 байтов в области 800100-80010F являются двумя циклическими буферами,
содержимое которых определяет то, что будет выводиться на экран.
Первый буфер (800100-800107) определяет замены в режиме главного экрана.
Второй буфер (800108-80010F) - в режиме Заставка.
Строка замены состоит из двух частей, разделенных пробелом.
Пример ?1: по адресу 800100 находится 34h.
Это значит, что имя оператора будет заменено на результат работы
функции ?3 и функции ?4, разделенных пробелом.
В нашем примере это будет "Время + Дата".
Так как следующий байт равен 06h, то при следующем обновлении экрана 
будет выведено "Дата".
И так в цикле, 8 раз, после чего мы опять вернемся к байту (800100)=34h
Пример ?2: для того, чтобы всегда было "Время+Температура" нужно эту область забить байтом 3Bh.
Если суммарная длина строки превышает 16 (?) символов, то окончание обрезается.
Примеры скриншотов: http://avkiev.kiev.ua/Siemens/Patches/s65/dyn_prov/dyn_prov.htm
Список доступных функций - в теле патча.
*/

/*
+---+-------------------------+-----------------+------+----------------------------------+
| N | Название                | Формат          | Длина| Комментарии                      |
+---+-------------------------+-----------------+------+----------------------------------+
| 0 | Пусто                   |                 | 0    |                                  |
| 1 | Юникод-строка 1         |                 |      |                                  |
| 2 | Юникод-строка 2         |                 |      |                                  |
| 3 | Время                   | 15:56           | 5    |                                  |
| 4 | Дата                    | 11.02.2005      | 10   |                                  |
| 5 | Дата                    | 02/11/2005      | 10   |                                  |
| 6 | Дата                    | Пт, 11 Фев 2005 | 15   |                                  |
| 7 | Дата                    | Февраль, 11     |      |                                  |
| 8 | Работает патч "miniGPS" |                 |      |                                  |
| 9 | День недели             | Понедельник     |      |                                  |
| A | Аккумулятор             | 3,685 = 70%     | 11,12| Напряжение и заряд аккумулятора  |
| B | Температура             | 31,9'C          | 6    |                                  |
| C | Оператор                | UMC             |      |                                  |
| D | Уровень сигнала         | -65 dB          | 6,7  |"-" - 900, "=" - 1800             |
| E | Сетевая инфа            |  844:05513-1010 | 15   |CH:CI-LAC - Текущие канал,сота,LAC|
| F | Misc\GPS\LAC\CI-LAC.tmo | ул.Крещатик, 27 |      |Местоположение (из патча miniGPS) |
+---+-------------------------+-----------------+------+----------------------------------+
*/
1652678: B36AB4 710180
#pragma enable old_equal_ff
0800100: 34,06,78,09,BA,CD,CE,0F           ;Главный экран | Mainscreen
0800108: 34,06,78,09,BA,CD,CE,0F           ;Заставка      | Screensaver
0800110: 'Unicode-строка1\0'               ;String #1. MaxLen = 16 (including 0)
0800130: 'Unicode-string2\0'               ;String #2. MaxLen = 16 (including 0)
0800150: 44796E2E2070726F7669646572207635
0800160: A961766B6965762030332E30332E3035
0800170: 00B50068002300F007F800BD00B50868
0800180: 082300F001F800BDF0B5041C0025B34F
0800190: 38690130072108403861AF4EF618365C
08001A0: 381C391C0831A74B9847330900F00AF8
08001B0: 2023023563530F23334000F003F86D08
08001C0: 2580F0BD00B508B4381C25F000FB08BC
08001D0: 5B009F4400BDFDE70DE00FE019E020E0
08001E0: 29E032E049E059E05CE062E082E0A0E0
08001F0: ADE0C7E0D4E09848103002E0C0469648
0800200: 30300388023002356353002BF9D1023D
0800210: 00BD397A00F0EBF83A2302356353797A
0800220: E6E000F0E3F82E2302356353397900F0
0800230: DEF82E231DE0397900F0D9F82F230235
0800240: 635300F0D3F82F2313E085490D3100F0
0800250: AAF82C230235635320230235635300F0
0800260: C5F820230235635338797D4900F09BF8
0800270: 2023023563533988C7E0387911210902
0800280: 8B3100F090F82C236353202302356353
0800290: 7979ADE0D6E2D7D8D9DAD50079460C39
08002A0: 085C03E00130072800D1002004210902
08002B0: 7AE000200921644A9047023500F0A3F8
08002C0: 063D00F0B7F80635202363533D230235
08002D0: 63535F492023023563530988642903D3
08002E0: 312302356353002100F081F825230235
08002F0: 635300BD0120544A032190470A210902
0800300: AA31401A00210A061116401803D52D23
0800310: 02356353404200F076F8043D00F08AF8
0800320: 00F088F8B02302356353432302356353
0800330: 00BD381C1430611901600A8804B445F3
0800340: BAFD04BC615B625349006D1800BD4148
0800350: 2D230188FF2900D33D23023563538179
0800360: 642903D3312302356353643900F03FF8
0800370: 20230235635364230235635342230235
0800380: 635300BDC0463348023000F047F83148
0800390: 018800F039F8063D3A236353063500BD
08003A0: C04630483BE000B54018391C1831274B
08003B0: 9847381C183000210A0103780130002B
08003C0: 13D0A42B11D0952BF5D00821962BF3D0
08003D0: 1021972BF0D038219A2BEDD040219B2B
08003E0: EAD09B1802356353E7E700BD797900B5
08003F0: 0A20C04638F07CEB3030023560533031
0800400: 0235615300BD011C00B5642038F070EB
0800410: 02B4011CFFF7EBFF02BCE9E700B50188
0800420: 272000021030C04638F062EB30300235
0800430: 6053EAE700B5605B2C216153023D6053
0800440: 043500BD9716B2A0B89315A1E5F53CA1
0800450: 080B6CA8ACD06CA8000180A00CCE7AA8
0800460: 97120000080B6CA8
#pragma disable old_equal_ff
;Подстройка температуры в десятых долях градуса: 000 - TBA, 030 - TEN, 015 - (TBA+TEN)/2, -010 - TBA-1
;Adjust temperature in function B by 0.1'C: 000 - TBA, 030 - TEN, 015 - (TBA+TEN)/2, -010 - TBA-1
;0800304: 00 0i015
;08001EA: 62 72 ;Не выводить напряжение аккума (Don't show voltage of accum)

;------------------------- end -------------------------

