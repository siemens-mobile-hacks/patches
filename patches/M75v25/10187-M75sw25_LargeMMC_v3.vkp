;M75v25
;Поддержка MMC/SD/SDHC 4GB карт
;MMC/SD/SDHC 4GB card support
;(c) DebriZ
;(p) T1000
;Version: 3
;PatchID: 10187
;Details: https://patches.kibab.com/patches/details.php5?id=10187
/*
Добавлена поддержка всех мультимедийных карт MMC, SD и SDHC любого объема
*/

; Change file/disk size output format ("    0.00").
002E10AC: 0720A0E3 0820A0E3
002E1130: 2020302E30300000 20202020302E3030

; Recalc card size using largest block size
00A8BEBC: 0C209DE5000052E3 2230DDE5A220A0E1
00A8BEC4: 30209D1500005213 013083E22230CDE5
00A8BECC: 0000001A5C1080E5 F6FFFFEA5C1080E5
00A8BED4: 2220DDE5BC31DDE1 4720D0E5010052E3
00A8BEDC: 022082E21122A0E1 0100001AAC0100EB
00A8BEE4: 013083E2930202E0 000000EAAF0100EB

; Read/write support for SDHC
00A8CA90: 8004A0E1 B6FEFFEB 
00A8CE98: 8004A0E1 B4FDFFEB
00AC1A18: 8614A0E1 D82AFFEB
00AC1CB4: 8614A0E1 312AFFEB

; MMC/SD/SDHC initialization routine
00A8C0CC: 000053032E01001ABC129FE50AB0A0E3 00005303FC00001ABC129FE50BB0A0E3
00A8C0DC: 0220A0E3B4429FE50B0053E303F18F90 0220A0E3B4429FE50C0053E303F18F90
00A8C0EC: 210100EA0A0000EA0D0000EA0F0000EA EF0000EA0B0000EA0E0000EA100000EA
00A8C0FC: 100000EA160000EA1B0000EA340000EA 160000EA1F0000EA2A0000EA3A0000EA
00A8C10C: 3F0000EA630000EA770000EABD0000EA 540000EA5F0000EA790000EAB90000EA
00A8C11C: F00000EA4420C5E54570C5E5E6D700EB CA0000EAEE0000EA4420C5E54570C5E5
00A8C12C: DB0000EA4520C5E53DD700EBE00000EA E5D700EBD80000EA4520C5E53CD700EB
00A8C13C: 0300A0E3000000EA0400A0E34500C5E5 020100EA0300A0E34500C5E504608DE5
00A8C14C: 04608DE50000A0E30120A0E304108DE2 0120A0E304108DE20000A0E3CD0000EA
00A8C15C: CE0000EA0500A0E34500C5E5BE73C5E1 0400A0E34500C5E5AA10A0E3011C81E2
00A8C16C: 04008DE2CFFEFFEB0A0000EA6000D5E5 04008DE2CFFEFFEB0120A0E304108DE2
00A8C17C: 3F0050E3C800001A6100D5E5800010E3 0800A0E3C30000EABE73C5E1B674C5E1
00A8C18C: 0800001A04008DE2C6FEFFEBBE03D5E1 6000D5E5080050E34770C5050500A0E3
00A8C19C: 010080E2BE03C5E10120A0E304108DE2 4500C5E504608DE50120A0E304108DE2
00A8C1AC: 0100A0E3B90000EA0420A0E3611085E2 3700A0E3B70000EA6000D5E5370050E3
00A8C1BC: 400085E2D69A11EB0600A0E34500C5E5 B664C5110600A0E34500C5E54700D5E5
00A8C1CC: 04608DE50200A0E30020A0E304108DE2 010050E30111810304008DE2B5FEFFEB
00A8C1DC: AE0000EA140085E20E0194E80E0180E8 0120A0E304108DE24600D5E5010050E3
00A8C1EC: 0700A0E34500C5E504008DE2401BA0E3 2900A0030100A013A60000EA6000D5E5
00A8C1FC: ACFEFFEB0120A0E304108DE20300A0E3 3F0050E3CB00001A6100D5E5800010E3
00A8C20C: A20000EA000050E3A300001A0400A0E1 0600001ABE03D5E1010080E2BE03C5E1
00A8C21C: 9FFEFFEB020050E31500000A0400A0E1 4600D5E5010050E3DBFFFF0AE6FFFFEA
00A8C22C: 9BFEFFEB0020A0E10A00A0E1581F8FE2 400010E34770C5154760C5050420A0E3
00A8C23C: 449611FA2010A0E30A00A0E16500F5EB 611085E2400085E2B59A11EB0700A0E3
00A8C24C: 030000EF0020A0E30810A0E11000A0E3 4500C5E504608DE50020A0E304108DE2
00A8C25C: 5301F5EB386085E54560C5E54470C5E5 0200A0E38B0000EA140085E20E0194E8
00A8C26C: 006085E5BC63C5E1100095E530FF2FE1 0E0180E80800A0E34500C5E5010CA0E3
00A8C27C: 8F0000EA0800A0E34500C5E504008DE2 B205C5E104008DE50120A0E304108DE2
00A8C28C: 401BA0E387FEFFEB0020A0E304108DE2 0300A0E37F0000EA000050E3A500001A
00A8C29C: 0900A0E37D0000EA000050E37E00001A 0400A0E17EFEFFEB020050E30500000A
00A8C2AC: 240085E20E0194E80E0180E8F3FEFFEB 0400A0E17AFEFFEB0020A0E10A00A0E1
00A8C2BC: 0900A0E34500C5E55C0095E5000050E3 DC108FE2910000EA4600D5E5010050E3
00A8C2CC: 7500001AB005D5E19B0000E095D700EB 0300001A2228A0E15320C5E52224A0E1
00A8C2DC: 401BA0E304008DE272FEFFEB0120A0E3 5220C5E50900A0E34500C5E5B215D5E1
00A8C2EC: 04108DE20D00A0E3680000EA000050E3 04108DE50020A0E304108DE20900A0E3
00A8C2FC: 6900001A0400A0E165FEFFEB030050E3 640000EA000050E38A00001A240085E2
00A8C30C: 3400000A0400A0E161FEFFEB0020A0E1 0E0194E80E0180E8DCFEFFEB0A00A0E3
00A8C31C: 0A00A0E19C108FE20A9611FA2010A0E3 4500C5E55C0095E5000050E38100001A
00A8C32C: 0A00A0E12B00F5EB030000EF0020A0E3 B005D5E19B0000E07ED700EBB215D5E1
00A8C33C: 0810A0E11000A0E31901F5EB386085E5 04108DE50120A0E304108DE20D00A0E3
00A8C34C: 4560C5E54470C5E5006085E5BC63C5E1 500000EAFFFFFFFFFFFFFFFFFFFFFFFF
00A8C35C: 100095E530FF2FE1550000EA747551A8 FFFFFFFFFFFFFFFFFFFFFFFF747551A8
00A8C36C: C049CFA0E47551A84D4D4320496E6974 C049CFA0E47551A84D4D4320496E6974
00A8C37C: 20434D44312074727920636F756E7465 20434D44312074727920636F756E7465
00A8C38C: 72206F7665722072756E00000080FF00 72206F7665722072756E00000080FF00
00A8C39C: D47551A84D4D432053746174653A2569 D47551A84D4D432053746174653A2569
00A8C3AC: 202065787065637420455F4964656E74 2065787065637420455F4964656E7453
00A8C3BC: 53746174650000004D4D432053746174 74617465000000004D4D432053746174
00A8C3CC: 653A25692065787065637420455F5374 653A25692065787065637420455F5374
00A8C3DC: 62795374617465000400A0E12CFEFFEB 62795374617465004D4D432053746174
00A8C3EC: 030050E30700001A45B0C5E5401BA0E3 653A25692065787065637420455F5472
00A8C3FC: 04008DE22BFEFFEB0120A0E304108DE2 616E537461746500000050E34900001A
00A8C40C: 0700A0E3210000EA0400A0E120FEFFEB 0400A0E122FEFFEB030050E30000000A
00A8C41C: 030050E31500000A0400A0E11CFEFFEB 0E0000EA0400A0E11DFEFFEB030050E3
00A8C42C: 0020A0E10A00A0E178104FE2C59511FA 0600001A45B0C5E5B215D5E104108DE5
00A8C43C: 2010A0E30A00A0E1E6FFF4EB030000EF 0120A0E304108DE20700A0E3110000EA
00A8C44C: 0020A0E30810A0E11000A0E3D400F5EB 0400A0E112FEFFEB030050E30500000A
00A8C45C: 386085E54560C5E54470C5E5006085E5 0400A0E10EFEFFEB0020A0E10A00A0E1
00A8C46C: BC63C5E1100095E530FF2FE1100000EA B0104FE2250000EA0C00A0E34500C5E5
00A8C47C: 0B00A0E34500C5E504008DE2801FA0E3 04008DE2021CA0E30AFEFFEB0120A0E3
00A8C48C: 08FEFFEB0120A0E304108DE21000A0E3 04108DE21000A0E367D700EB000050E3
00A8C49C: 65D700EB000050E30500001A4560C5E5 2A00001A230000EA587085E5BE63C5E1
00A8C4AC: 4470C5E5006085E5BC63C5E1100095E5 200000EA030000EF0020A0E30810A0E1
00A8C4BC: 30FF2FE15C0095E5000050E34560C515 0B00A0E3BA00F5EB1A0000EA020000EF
00A8C4CC: 4470C51500608515BC63C51110009515 0020A0E30810A0E10500A0E34C00F5EB
00A8C4DC: 30FF2F11EFFEFFEA000050E3EEFFFF1A F0FEFFEA000050E31200001A0400A0E1
00A8C4EC: 0400A0E1EAFDFFEB040050E31500000A EBFDFFEB040050E3EAFFFF0A0400A0E1
00A8C4FC: 0400A0E1E6FDFFEB0020A0E10A00A0E1 E7FDFFEB0020A0E10A00A0E14B1F4FE2
00A8C50C: 94108FE28F9511FA2010A0E30A00A0E1 909511FA2010A0E30A00A0E1B1FFF4EB
00A8C51C: B0FFF4EB030000EF0020A0E30810A0E1 030000EF0020A0E30810A0E11000A0E3
00A8C52C: 1000A0E39E00F5EB386085E54560C5E5 9F00F5EB386085E54560C5E54470C5E5
00A8C53C: 4470C5E5006085E5BC63C5E1100095E5 006085E5BC63C5E1100095E530FF2FE1
00A8C54C: 30FF2FE1DAFFFFEA4560C5E54470C5E5 5C0095E5000050E34560C5154470C515
00A8C55C: 006085E5BC63C5E1587085E5BE63C5E1 00608515BC63C5111000951530FF2F11
00A8C56C: 100095E530FF2FE1D1FFFFEA030000EF CCFEFFEA4730D5E5000053E38004A001
00A8C57C: 0020A0E30810A0E10B00A0E38800F5EB 1EFF2FE120021FE54700D0E5000050E3
00A8C58C: C5FFFFEA020000EF0020A0E30810A0E1 8614A0010610A0111EFF2FE12C30D0E5
00A8C59C: 0500A0E31A00F5EBBEFEFFEA4D4D4320 2D20D0E5033482E0012BA0E3030000EA
00A8C5AC: 53746174653A25692065787065637420 2220DDE5BC31DDE1022082E21122A0E1
00A8C5BC: 455F5472616E537461746500 013083E2930202E01EFF2FE1        
                                           
; MMC/SD/SDHC block read/write routine
00A8C83C: 401BA0E31BFDFFEB B215D5E1001080E5
00A8C954: 401BA0E304008DE2D4FCFFEB 04008DE2B215D5E1001080E5
00A8CB84: 401BA0E304008DE248FCFFEB 04008DE2B215D6E1001080E5
00A8CBAC: 04008DE2401BA0E33EFCFFEB 04008DE2B215D6E1001080E5
00A8CD04: 401BA0E304008DE2E8FBFFEB 04008DE2B215D6E1001080E5
00A8CD30: 401BA0E304008DE2DDFBFFEB 04008DE2B215D6E1001080E5
00AC19B4: 401BA0E314008DE20240A0E1BB28FFEB 0240A0E1E80F9FE5B215D0E114108DE5
00AC19F4: 401BA0E314008DE2AC28FFEB AC0F9FE5B215D0E114108DE5
00AC1A6C: 401BA0E314008DE28E28FFEB 340F9FE5B215D0E114108DE5
00AC1C50: 401BA0E314008DE20240A0E11428FFEB 0240A0E14C0D9FE5B215D0E114108DE5
00AC1C90: 401BA0E314008DE20528FFEB 100D9FE5B215D0E114108DE5
00AC1D08: 401BA0E314008DE2E727FFEB 980C9FE5B215D0E114108DE5
00AC2998: 436D64202578205374617475733A2578 436D642025782053746174653A257800
00AC29A8: 00000000 747551A8


;------------------------- end -------------------------

